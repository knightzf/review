Spent some time thinking about it and decided to use a queue, basically bfs.\
Took a while to debug and finally figured out the solution.\
Looked at discussion, essentially I developed dijkstra myself, although not as sleek.\
I didn't have enough time during contest, to be fair I won't be able to do it even if I had one hour.\
But still I felt I should be able to do it, debugging is unfortunately time consuming.

The learned solution is very smart, the key idea is to store the max move on each node.\
Then for each edge, we can know how many nodes in the middle can be visited.\
Clever!
