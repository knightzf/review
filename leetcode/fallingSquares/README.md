So happy I solved it myself.

Same line sweep algorithm, use an active set to keep track of squares of interest.

Checked discussion and there are people using brute force solution basically create a bunch of ranges with height and then find if one can accumulate height.
