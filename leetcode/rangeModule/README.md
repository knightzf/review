I had the correct idea, using a map to store range pairs.

However I didn't have a clear idea of handling all cases.

I tried to write a solution by learing from a solution online but failed for some bug.
