I spent some time on this trying to get a greedy solution but failed.\
It then appears to me as a dfs problem luckily I was able to memorize the subproblem results.\
Looked at discussion, it is indeed a dp problem, the time complexity is O(K*N) as it has to try different ways\
to break the array in order to find the max.