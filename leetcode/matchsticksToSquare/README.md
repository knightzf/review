Thought for a while, DFS seems to be the only viable solution.\
The limited number of items also suggests DFS.
