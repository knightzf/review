I spent quite some time and it's obviously that we should buy cheap and sell high.\
However I only came up bfs which exceeds memory limit then switched to dfs with memorization which passes.\
Looked at discussion, it's a simple greedy and always try to use power if possible, otherwise try to \
sell point for power.