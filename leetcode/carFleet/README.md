Took me a while to understand the problem and still got a bug running test.\
Another tricky part is the usual integer range thing, don't like that.
