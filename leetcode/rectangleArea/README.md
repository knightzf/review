The question itself is actually very trivia.

I spent a lot of time trying to implement this using sweep line algorithm.

Basically such algo works on most geometry problems.

The idea is always, sort the elements by value and also order (start or end)

Then loop through the sorted elements, as if there's a line to sweep.

Use an active set to keep track of items that are touched by the line.

It's also the same to find total length of random ranges.

I'm happy that I know understand more about this algo and should be able to implement myself.
