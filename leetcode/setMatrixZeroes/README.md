I thought for a long time for constant space solution.

The solution is actually easy, use first row and first colunm to store if the row/col should be set to 0.
Besides use two extra flags to indicate whether first row and column should be set to 0.
