My solution is simple dfs but the difficulty is how to implement the program.\
The solution from discussion is a greedy one which is of course faster but hard to think of and no strict proof.