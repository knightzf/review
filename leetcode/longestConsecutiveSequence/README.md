I overthought the problem, my idea is to use two hashset to store start and end of existing sequences.

However it felt very complicated to handle because of so many possible cases.
