Very similar to the problem I got asked during jane street interview.
However it's simpler.
